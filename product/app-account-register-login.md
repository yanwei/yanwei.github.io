# App账号体系设计和注册登录流程
```json
{"Author":"yanwei", "At":"Shanghai", "LastUpdate":"2017-09-24"}
```

> 摘要：

## 前言
越来越多的App增加了注册和登录流程，哪怕是一个单机游戏或天气应用。很多老板是这么想的：收集点用户信息也是好的嘛，运营的时候可以发发推送和短信，没准儿还能基于账号体系做点社交，提高用户黏性和活跃度呢。

一般来说，产品经理会面临以下问题：

* 什么时候让用户注册／登录
* 账号注册和登录的方式：账号+密码、手机+密码、手机+动态验证码、邮箱+密码、第三方账号登录等
* 如果用第三方账号登录，是否需要强制创建并绑定本地账号？
* 本地账号系统中，用什么作为标识用户的唯一ID？自增的数字ID，手机号码，还是用户输入的用户名？
* 注册时需要用户提交哪些信息（昵称、性别、头像等），哪些信息是必填项？
* 用户名和昵称是一回事吗？是否需要保证昵称的唯一性？
* 账号和密码找回的策略
* 如果支持本地账号和第三方账号绑定，是否支持更换绑定关系？绑定关系出现冲突的情况下，是否允许迁移或合并账号信息？

更进一步，对一些强社交、或者有特殊要求的App来说（如LinkedIn、探探、支付宝、滴滴出行司机端这种）：

* 是否需要用户做真人身份认证和实名认证？怎么做？
* 隐私保护问题

本文对相关问题一一展开讨论，结合本人的项目经验和体会，提出想法和问题。过程中也会引用他人的观点，或为佐证，或为探讨。

## 设计原则
* **先试后买：**App好不好，你先让我用用看嘛。有什么理由第一次打开就要登录？
* **简化流程：**输账号、填密码、设昵称、选性别、传头像、有些还要选兴趣爱好，很烦的好不好？这个步骤流失率很高的。
* **遏制欲望：**有些App恨不得用户把祖宗十八代的资料都提交上来。和妹子约会一上来就想推倒，妹子肯定跑哇。

## 什么时候让用户注册／登录

奥卡姆剃刀原理（Ockham's Razor）告诉我们，“如无必要，勿增实体”，即“简单有效原理”[^Ockham]。对大多数App来说，登录这件事也一样。一个App的首要任务是“生存”（留存），用户愿意在手机上留着它，打开它，比什么社交、转化重要的多。

从登录的必要性和急迫性来说，大致可以排序如下：

1. 强社交类App（微信、QQ、探探）
* 资产理财类App（支付宝、招商银行）
* 生活服务类App（摩拜单车、饿了么）
* 电商类App（淘宝、京东）
* 效率类App（印象笔记、奇妙清单）
* 弱社交类App（知乎、豆瓣、新浪微博）
* 音乐视频类App（QQ音乐、爱奇艺）
* 阅读类App（今日头条、网易新闻）
* 工具类App（高德地图、墨迹天气）

总之，除非你的App在不登录的情况下完全用不了，否则只要以游客身份也能用用看看的，就尽量不要强迫用户登录。

在用户使用过程中，通过提供差异化服务、社交、数据同步等功能，都是引导用户登录的好办法。

> 反面案例：

## 账号注册和登录的方式
好了，现在用户愿意留着你的App并且偶尔打开看看，是时候注册个账号了。用户想在社区留个言、关注一个KOI、收藏一条信息、或下单购物，都是引导用户注册的好时机。

还是前面说的原则，除非你是微信、或孩子学校指定的App，否则注册过程越简单越好。

首推第三方账号登录。国内最常见的三大账号体系：微信、QQ和新浪微博。微信必须支持，QQ也可以加上。用新浪微博登录的用户不足前两者的十分之一（而且他们基本也都有微信吧），要不要支持，你随意。至于其它登录方式，什么知乎、豆瓣、百度、淘宝，就算了吧（认了干爹的除外）。

除非你的业务强烈依赖用户的手机号，比如饿了么、滴滴，否则不要强制用户绑定手机。

也不要强制用户注册本地账号。从第三方账号平台可以拿到用户的昵称和头像，对大多数App来说，足够了。

> 反面案例：

TODO 细节改进：记住用户上次的登录方式。

## 本地账号系统的设计原则
需要密码吗？手机+验证码

## 简化注册时需要提交的信息

## 不要把昵称用作登录的用户名，反之亦然

## 忘记密码

## 
如果支持本地账号和第三方账号绑定，是否支持更换绑定关系？绑定关系出现冲突的情况下，是否允许迁移或合并账号信息？

## 真人身份认证和实名认证

## 隐私保护





[^1]: APP注册登录流程设计与浅析: http://www.jianshu.com/p/66799ee5177b
[^Ockham]: https://baike.baidu.com/item/奥卡姆剃刀原理